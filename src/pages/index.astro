---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import BookCard from '../components/BookCard.astro';
import Pagination from '../components/Pagination.astro';
import Footer from '../components/Footer.astro';
import booksData from '../data/books.json';

// Pagination settings
const BOOKS_PER_PAGE = 12;
const currentPage = 1;
const totalBooks = booksData.length;
const totalPages = Math.ceil(totalBooks / BOOKS_PER_PAGE);

// Get books for current page
const startIndex = (currentPage - 1) * BOOKS_PER_PAGE;
const endIndex = startIndex + BOOKS_PER_PAGE;
const currentBooks = booksData.slice(startIndex, endIndex);

// SEO data for homepage
const pageTitle = "AllPDF.dev - Digital PDF Library | Download Free Books";
const pageDescription = "Discover and download popular books in PDF format. Your digital library with instant access to classic literature, bestsellers, and educational content.";
---

<Layout title={pageTitle} description={pageDescription}>
	<!-- JSON-LD Structured Data for homepage -->
	<Fragment slot="head">
		<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "WebSite",
			"name": "AllPDF.dev",
			"url": "https://allpdf.dev",
			"description": "Digital PDF library with free book downloads",
			"publisher": {
				"@type": "Organization",
				"name": "AllPDF.dev",
				"url": "https://allpdf.dev"
			},
			"potentialAction": {
				"@type": "SearchAction",
				"target": "https://allpdf.dev/search?q={search_term_string}",
				"query-input": "required name=search_term_string"
			}
		}
		</script>
		
		<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "ItemList",
			"name": "PDF Books Collection",
			"description": "Collection of downloadable PDF books",
			"numberOfItems": {totalBooks},
			"itemListElement": [
				{currentBooks.map((book, index) => `{
					"@type": "ListItem",
					"position": ${startIndex + index + 1},
					"item": {
						"@type": "Book",
						"name": "${book.title}",
						"url": "https://allpdf.dev/book/${book.title.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '')}",
						"image": "${book.src_pic}"
					}
				}`).join(',')}
			]
		}
		</script>
	</Fragment>
	<Header />
	
	<main>
		<!-- Hero Section -->
		<section class="hero">
			<div class="container">
				<div class="hero-content">
					<h1 class="hero-title">Your Digital PDF Library</h1>
					<p class="hero-description">
						Discover and download popular books in PDF format. 
						Read instantly, anywhere, anytime.
					</p>
				</div>
			</div>
		</section>

		<!-- Books Section -->
		<section id="books" class="books-section">
			<div class="container">
				<h2 class="section-title">Available Books</h2>
				<div class="books-grid">
					{currentBooks.map((book) => (
						<BookCard 
							title={book.title}
							src_pdf={book.src_pdf}
							src_pic={book.src_pic}
						/>
					))}
				</div>
				
				<Pagination 
					currentPage={currentPage}
					totalPages={totalPages}
				/>
			</div>
		</section>

		<!-- About Section -->
		<section id="about" class="about-section">
			<div class="container">
				<div class="about-content">
					<h2 class="section-title">About AllPDF.dev</h2>
					<p class="about-text">
						AllPDF.dev is your go-to destination for digital books in PDF format. 
						We provide easy access to popular titles, allowing you to download 
						and read instantly on any device.
					</p>
					<div class="features">
						<div class="feature">
							<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
								<polyline points="14,2 14,8 20,8"/>
								<line x1="16" y1="13" x2="8" y2="13"/>
								<line x1="16" y1="17" x2="8" y2="17"/>
								<polyline points="10,9 9,9 8,9"/>
							</svg>
							<h3>Instant Download</h3>
							<p>Download PDF books instantly with just one click.</p>
						</div>
						<div class="feature">
							<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<rect x="2" y="4" width="20" height="16" rx="2"/>
								<path d="M7 15h0M2 10h20"/>
							</svg>
							<h3>All Devices</h3>
							<p>Read on any device - desktop, tablet, or mobile.</p>
						</div>
						<div class="feature">
							<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<circle cx="12" cy="12" r="3"/>
								<path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"/>
							</svg>
							<h3>High Quality</h3>
							<p>All PDFs are high-quality and optimized for reading.</p>
						</div>
					</div>
				</div>
			</div>
		</section>
	</main>

	<Footer />
</Layout>

<style>
	.container {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 20px;
	}

	/* Hero Section */
	.hero {
		background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
		padding: 80px 0;
		text-align: center;
		border-bottom: 1px solid #e0e0e0;
	}

	.hero-content {
		max-width: 600px;
		margin: 0 auto;
	}

	.hero-title {
		font-size: 48px;
		font-weight: 700;
		color: #000000;
		margin: 0 0 20px 0;
		line-height: 1.2;
		letter-spacing: -0.02em;
	}

	.hero-description {
		font-size: 20px;
		color: #666666;
		margin: 0 0 40px 0;
		line-height: 1.6;
	}

	/* Books Section */
	.books-section {
		padding: 80px 0;
	}

	.section-title {
		font-size: 36px;
		font-weight: 700;
		color: #000000;
		text-align: center;
		margin: 0 0 50px 0;
		letter-spacing: -0.02em;
	}

	.books-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
		gap: 30px;
		margin-top: 40px;
	}

	/* About Section */
	.about-section {
		background: #f8f9fa;
		padding: 80px 0;
		border-top: 1px solid #e0e0e0;
	}

	.about-content {
		text-align: center;
		max-width: 800px;
		margin: 0 auto;
	}

	.about-text {
		font-size: 18px;
		color: #666666;
		line-height: 1.8;
		margin: 0 0 60px 0;
	}

	.features {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 40px;
		margin-top: 60px;
	}

	.feature {
		text-align: center;
	}

	.feature svg {
		color: #0066FF;
		margin-bottom: 20px;
	}

	.feature h3 {
		font-size: 20px;
		font-weight: 600;
		color: #000000;
		margin: 0 0 12px 0;
	}

	.feature p {
		color: #666666;
		line-height: 1.6;
		margin: 0;
	}

	/* Responsive Design */
	@media (max-width: 768px) {
		.hero {
			padding: 60px 0;
		}

		.hero-title {
			font-size: 36px;
		}

		.hero-description {
			font-size: 18px;
		}

		.books-section,
		.about-section {
			padding: 60px 0;
		}

		.section-title {
			font-size: 28px;
		}

		.books-grid {
			grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
			gap: 20px;
		}

		.features {
			grid-template-columns: 1fr;
			gap: 30px;
		}
	}

	@media (max-width: 480px) {
		.hero-title {
			font-size: 28px;
		}

		.hero-description {
			font-size: 16px;
		}

		.books-grid {
			grid-template-columns: 1fr;
		}
	}
</style>